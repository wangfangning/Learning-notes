<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>手厅触屏版首页</title>
    <link rel="stylesheet" href="css/reset.css" />
    <script src="js/public640.js"></script>
    <script src="js/jquery-1.7.2.min.js"></script>
    <script src="js/easing.js"></script>
    <style type="text/css">
        body{
            font-family: "微软雅黑";
            background: #e6403d;
            max-width: 640px;
            min-width: 320px;
            margin:0 auto;
            position: relative;
        }
       /*#audioplayGoog{
            z-index: 1001 !important;
            top: 40px;
            opacity: 1;
       }
       #audioplayBad{
            z-index: 1000 !important;
            top: 80px;
            opacity: 1;
       }*/
        .GameBg{
            width: 100%;
            position: absolute;
            top: 0;
            z-index: 1;
        }
        .GameCaiDai{
            position: absolute;
            width: 100%;
            top: 0;
            z-index: 2;
        }
        .labelGame{
            position: absolute;
            width: 100%;
            top: 0.4rem;
            z-index: 3;
        }
        .MachineContainer{
            position: absolute;
            top: 2.08rem;
            z-index: 4;
            width: 100%;
        }
        .MachineContainer .gameMachine{
            display: block;
            margin:0 auto;
            width: 5.59rem;
        }
        .awards {
            width: 1.32rem;
            height: 1.42rem;
            position: absolute;
            top: 1.65rem;
            overflow: hidden;
        }
        .awards li{
            text-align: center;
        }
        .awards li img{
            height: 1.2rem;
        }
        .awards:first-child {
            left: 1.12rem;
        }
        .awards:nth-child(2) {
            left: 2.55rem;
        }
        .awards:nth-child(3) {
            left: 4rem;
        }
        .pullBox{
            width: 100%;
            height: 7.12rem;
            position: relative;
            top: 0;
        }
        .pullBoxContainer{
            position: absolute;
            top: 0;
            width: 100%;
            height: 7.12rem;
        }
        .start_pull{
            position: absolute;
            z-index: 10;
            width: 3.52rem;
            height: 1rem;
            top: 4.02rem;
            left: 1.6rem;
            display: block;
            border:none;
            outline: none;
            background: transparent;
        }
        .start_pull img{
            display: block;
            width: 100%;
        }
        audio{
            position: absolute;
            opacity: 0;
            top: 0;
        }
        .PrizeDrawTimes{
            position: absolute;
            top: 0.06rem;
            width: 3.66rem;
            height: 0.48rem;
            background: #ffe92b;
            border-radius: 0.24rem;
            left: 1.38rem;
        }
        .PrizeDrawTimes .showTip{
            width: 3.54rem;
            height: 0.4rem;
            line-height: 0.4rem;
            border-radius: 0.2rem;
            background: #fff;
            color: #e63e3b;
            font-size: 0.23rem;
            text-align: center;
            margin:0 auto;
            margin-top: 0.04rem;
        }
        .PrizeDrawTimes .showTip span{
            vertical-align: middle;
            display: inline-block;
        }
        .notice{
            left: 1.18rem;
            width: 4.02rem;
            height: 1.05rem;
            background: rgba(233,135,28,0.5);
            margin: 0 auto;
            border-radius: 5px;
            font-size: 0.17rem;
            color: #fff;
            padding: 0 10px;
            overflow: hidden;
            position: absolute;
            bottom: 0.4rem;
        }
        .notice span {
            margin-right: 0.1rem;
            text-align: left;
        }
        .notice ul{
            width: 100%;
        }
        .notice ul li{
            text-align: left;
        }
        .TimesGame{
            display: inline-block;
            width: 0.3rem;
            height: 0.3rem;
            line-height: 0.33rem !important;
            text-align: center;
            border-radius: 50%;
            background: #f7534e;
            font-weight: bold;
            color: #fff;
            margin-left: 0.05rem;
            margin-right: 0.05rem;
            vertical-align: middle !important;
        }
        .dn{
            display: none !important;
        }
        .Popout{
            width: 100%;
            height: 100%;
            position: fixed;
            top: 0;
            left: 0;
            background: rgba(0,0,0,0.6);
            display: none;
            z-index: 999;
        }
        .poupleGame{
            width: 5.4rem;
            font-family: "微软雅黑";
            position: absolute;
            top: 1.34rem;
            z-index: 1000;
            left: 50%;
            margin-left: -2.7rem;
            display: none;
        }
        .poupleGame .badImgContainer{
            width: 100%;
        }
        .poupleGame .badImgContainer img{
            width: 100%;
            display: block;
        }
        .GameBadText{
            width: 100%;
            padding-bottom: 0.35rem;
            border-bottom-left-radius: 0.2rem;
            border-bottom-right-radius: 0.2rem;
            background: #fff;
            font-family: "微软雅黑";
        }
        .GameBadText .GameResultTip{
            font-size: 0.34rem;
            color: #df3e3e;
            text-align: center;
            padding-top: 0.32rem;
            padding-bottom: 0.22rem;
        }
        .GameBadText .badencourageText{
            font-size: 0.24rem;
            color: #000000;
            text-align: center;
            line-height: 0.36rem;
        }
        .GameBadText .badencourageText span{
            color: #df3e3e;
        }
        .GameBadText .smallTip{
            color: #999999;
            font-size: 0.2rem;
            text-align: center;
        }
        .GameBadText .linkActivities{
            width: 2.48rem;
            height: 0.63rem;
            line-height: 0.63rem;
            font-size: 0.3rem;
            color: #fff;
            background: #df3e3e;
            display: block;
            margin:0 auto;
            border-radius: 5px;
            border:none;
            outline: none;
            margin-top: 0.67rem;
        }
        .closeGamePouple{
            width: 0.76rem;
            display: block;
            margin:0 auto;
            margin-top: 0.41rem;
        }
    </style>
</head>
<body>
    <audio src="music/good.mp3" preload="auto" controls id="audioplayGoog"></audio>
    <audio src="music/bad.mp3" preload="auto" controls id="audioplayBad"></audio>
    <img src="images/GameBg.jpg" class='GameBg' />
    <img src="images/caidaiGame.png" class='GameCaiDai' />
    <img src="images/LabelGame.png" class='labelGame' />
    <div class='MachineContainer'>
        <img src="images/GameMachine.gif" class='gameMachine'>
        <div class='pullBoxContainer'>
            <div class='pullBox'>
                <div class="awards">
                        <ul class="award award1">
                            <li><img src="images/Noprizes.png"></li>
                            <li><img src="images/prizes2.png"></li>
                            <li><img src="images/pull_award.png"></li>
                            <li><img src="images/prizes1.png"></li>
                        </ul>
                    </div>
                    <div class="awards">
                        <ul class="award award2">
                            <li><img src="images/prizes2.png"></li>
                            <li><img src="images/Noprizes.png"></li>
                            <li><img src="images/pull_award.png"></li>
                            <li><img src="images/prizes1.png"></li>
                        </ul>
                    </div>
                    <div class="awards">
                        <ul class="award award3">
                            <li><img src="images/prizes1.png"></li>
                            <li><img src="images/prizes2.png"></li>
                            <li><img src="images/Noprizes.png"></li>
                            <li><img src="images/pull_award.png"></li>
                        </ul>
                    </div>
                    <style type="text/css">

                    </style>
                    <div class='PrizeDrawTimes'>
                        <p class='showTip'>
                            <span>今天您还有</span>
                            <span class='TimesGame'>4</span>
                            <span>次机会</span>
                        </p>
                    </div>
                    <div class="notice">
                        <marquee align="center" behavior="scroll" style=" background:##7f7e77; color:#fff;" direction="up" height="90%" width="100%" hspace="0" vspace="2" scrollamount="1">
                            <ul class="ul_scroll">
                                <li>
                                    <span>176008***28用户</span>
                                    <span>抽中iPhone 7Plus</span>
                                    <span>1台</span>
                                </li>
                                <li>
                                    <span>176008***28用户</span>
                                    <span>抽中滴滴3000元代金券一张</span>
                                </li><li>
                                    <span>176008***28用户</span>
                                    <span>抽中iPhone 7Plus</span>
                                    <span>1台</span>
                                </li>
                            </ul>
                        </marquee>
                    </div>
                </div>
                <style type="text/css">
                    .buttonclick{
                        width: 3.52rem;
                        height: 1rem;
                        opacity: 0;
                        top: 0;
                        left: 0;
                        position: absolute;
                        background: transparent;
                        border:none;
                        outline: none;
                    }
                </style>
                <button class='start_pull' >
                    <img src="images/gamaBtnUp.png" class='btnUp' />
                    <img src="images/gamaBtnDown.png" class='btnDown dn' />
                    <input type='button' class='buttonclick' />
                </button>
            </div>
            <style type="text/css">
                .queryBtnCotainer{
                    width: 5.2rem;
                    margin:0 auto;
                    margin-top: 0.3rem;
                }
                .queryBtnCotainer img{
                    display: block;
                    float: left;
                    width: 2.06rem;
                }
                .prizeT{
                    color:blue;
                    text-align:center;
                    font-size: 0.32rem;
                    margin-bottom: 10px;
                }

            </style>
            <div class='queryBtnCotainer'>
                <img src="images/GameQueryBtn1.png" onclick='window.location.href="checkPrize.html"' style='float:left;margin-left:0.4rem;' />
                <img src="images/GameQueryBtn2.png" style='float:right;margin-right:0.4rem;' onclick='window.location.href="hdgz.html"' />
            </div>

            <p class='noPrize prizeT'>未中奖</p>
            <p class='hasPrize prizeT'>未有抽奖机会</p>
            <p class='Prize prizeT'>中奖</p>
            <p class='NoChoice prizeT'>无抽奖机会</p>
    </div>
            <div class="Popout"></div>
    <div class='PloginoutBad poupleGame'>
        <div class='badImgContainer'>
            <img src="images/GameBadPoup.png" />
        </div>
        <div class='GameBadText'>
            <p class='GameResultTip'>谢谢参与</p>
            <p class='badencourageText'>很抱歉，没有中奖哟，每天有<span>3</span>次机会</p>
            <p class='badencourageText'>再接再厉吧。</p>
            <button class='linkActivities' type='button'>发现其他活动</button>
        </div>
        <img src="images/GamePoupleClose.png" class='closeGamePouple' />
    </div>
    <div class='PloginoutBad2 poupleGame'>
        <div class='badImgContainer'>
            <img src="images/GameBadPoup.png" />
        </div>
        <div class='GameBadText'>
            <p class='GameResultTip'>谢谢参与</p>
            <p class='badencourageText'>很抱歉，没有中奖哟，每天有<span>3</span>次机会</p>
            <p class='badencourageText'>再接再厉吧。</p>
            <button class='linkActivities' type='button'>继续抽奖</button>
        </div>
        <img src="images/GamePoupleClose.png" class='closeGamePouple' />
    </div>
    <div class='PloginoutGood poupleGame'>
        <div class='badImgContainer'>
            <img src="images/GameGoodPoup.png" />
        </div>
        <div class='GameBadText'>
            <p class='GameResultTip'>恭喜您</p>
            <p class='badencourageText'>恭喜您，获得 xx元xx券奖品。</p>
            <p class='badencourageText'>兑换码：xxxxxxxxxxx，请妥善保管。</p>
            <p class='badencourageText'>使用详细信息参与“中奖记录”查询。</p>
            <p class='smallTip'>（中奖信息通过短信发送至您中奖的手机号码）</p>
            <button class='linkActivities' type='button' style='margin-top:0.36rem;'>分享好友</button>
        </div>
        <img src="images/GamePoupleClose.png" class='closeGamePouple' />
    </div>
    <script type="text/javascript">
    // JavaScript Document
/* 站点说明： 中国联通手机客户端
 * 开发时间： 2011-04-14
 * 开发者： 宁玉波
 * 维护者： 胡建
 *
 * 样式版本： v3.0
 * 版本时间： 2014-03-14
 * 注意事项： 共用JS文件
 */

;jQuery(function( $ ){

    (function(){
        var prizeIndex1 = 0, prizeIndex2 = 5, prizeIndex3 = 6;
        var isPrize = true;
        var step,speed,total,ito;
        var flagEndGame1 = true;
        var flagEndGame2 = true;
        var flagEndGame3 = true;
        var awardsLiH = $('.awards').find('li').height();
        var awardLiL = $('.award1').find('li').length;
        var award1 = $('.award1');
        var is_running1 = is_running2 = is_running3 = false;
        var i1 = i2 = i3 = 0; // 奖品默认开始索引
        $('.start_pull').bind('mousedown touchstart',function(){
            if(is_running1 == false && is_running2 == false && is_running3 == false) $(this).addClass('on');
        }).bind('mouseup touchend',function(){
             if(is_running1 == false && is_running2 == false && is_running3 == false) $(this).removeClass('on');
        }).bind('mouseover touchmove',function(){
            if(is_running1 == false && is_running2 == false && is_running3 == false) $(this).removeClass('on');
        });
        $('.start_pull').click(function(){
            if(is_running1 == true || is_running2 == true || is_running3 == true){
                return false;
            } else{
                flagEndGame1 = false;
                flagEndGame2 = false;
                flagEndGame3 = false;
                step1 = step2 = step3 = 0; // 记录已跑的格数
                speed1 = speed2 = speed3 = 240; // 初始速度
                is_running1 = is_running2 = is_running3 = true;
                ito1 = setTimeout(rolling1, 0);
                ito2 = setTimeout(rolling2, 500);
                ito3 = setTimeout(rolling3, 1000);
            }
        });
        var i= 0;
        function rolling1 () {
            if( i1 === prizeIndex1 && speed1 > 300 ) {
                clearTimeout(ito1);
                is_running1 = false;
                flagEndGame1 = true;
                endMusic();
                console.log('end1--->');
                return false;
            }
            i1++;
            step1++;
            if ( i1 >= 8 ) i1 = 0;
            if ( step1 < awardLiL*2 ) speed1 -= 5; // 第二圈加速*/
            if ( step1 > awardLiL*3 ) speed1 += 15; // 三圈之内不减速
            if ( speed1 <= 10 ) speed1 = 10; // 中间稳住
            $('.award1').animate({marginTop:[-awardsLiH,'linear']},speed1,function(){
                var _this = $(this);
                _this.css({'marginTop':0}).find('li').eq(0).appendTo(_this);
            });
            clearTimeout(ito1);
            ito1 = null;
            rolling1();
            //ito1 = setTimeout(rolling1, speed1);
        };
        function rolling2 () {
            if( i2 === prizeIndex2 && speed2 > 300 ) {
                clearTimeout(ito2);
                is_running2 = false;
                flagEndGame2 = true;
                endMusic();
                console.log('end2--->');
                return false;
            }
            i2++;
            step2++;
            if ( i2 >= 8 ) i2 = 0;
            if ( step2 < awardLiL*2 ) speed2 -= 5; // 第二圈加速*/
            if ( step2 > awardLiL*3 ) speed2 += 15; // 三圈之内不减速
            if ( speed2 <= 10 ) speed2 = 10; // 中间稳住
            $('.award2').animate({marginTop:[-awardsLiH,'linear']},speed2,function(){
                var _this = $(this);
                _this.css({'marginTop':0}).find('li').eq(0).appendTo(_this);
            });
            clearTimeout(ito2);
            ito2 = null;
            //ito2 = setTimeout(rolling2, speed2);
            rolling2();
        };
        function rolling3 () {
            if( i3 === prizeIndex3 && speed3 > 300 ) {
                clearTimeout(ito3);
                is_running3 = false;
                flagEndGame3 = true;
                endMusic();
                return false;
            }
            i3++;
            step3++;
            if ( i3 >= 8 ) i3 = 0;
            if ( step3 < awardLiL*2 ) speed3 -= 5; // 第二圈加速*/
            if ( step3 > awardLiL*3 ) speed3 += 15; // 三圈之内不减速
            if ( speed3 <= 10 ) speed3 = 10; // 中间稳住
            $('.award3').animate({marginTop:[-awardsLiH,'linear']},speed3,function(){
                var _this = $(this);
                _this.css({'marginTop':0}).find('li').eq(0).appendTo(_this);
            });
            clearTimeout(ito3);
            ito3 = null;
            //ito3 = setTimeout(rolling3, speed3);
            rolling3();
        };
        $('.noPrize').bind('click',function(){
            isPrize = false;
        });
        $('.Prize').bind('click',function(){
            isPrize = true;
        });
        function endMusic(){
            var audio = document.getElementById('audioplay');
            var audiogood = document.getElementById('audioplayGoog');
            var audiobad = document.getElementById('audioplayBad');
            if(flagEndGame1 && flagEndGame2 && flagEndGame3){
                audio.pause();
                if(isPrize == true){
                    audiogood.play();
                }else{
                    audiobad.play();
                }
            }

        }
    })();

});
    </script>
</body>
</html>
